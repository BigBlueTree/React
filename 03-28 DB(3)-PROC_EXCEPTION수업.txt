CREATE OR REPLACE PROCEDURE PROC_EXCEPTION
IS
    V_NUM NUMBER;
    V_RES NUMBER;
    RICH_EXCEPTION EXCEPTION;
BEGIN
    SELECT COUNT(*) INTO V_RES FROM EMP WHERE SAL>2500;
    IF V_RES >0 THEN 
        RAISE RICH_EXCEPTION;
    END IF;
    SELECT EMPNO INTO V_NUM
    FROM EMP_CURSOR WHERE EMPNO=7702;
    SELECT DNAME INTO V_NUM
    FROM DEPT WHERE DEPTNO = 10;
    V_NUM:=10;
    V_RES:=V_NUM/0;
    DBMS_OUTPUT.PUT_LINE(V_NUM);
    DBMS_OUTPUT.PUT_LINE(V_RES);
EXCEPTION
    WHEN ZERO_DIVIDE THEN 
        V_RES:=0;
        DBMS_OUTPUT.PUT_LINE('0으론 못나눠요.'||TO_CHAR(SQLCODE)||SQLERRM);
    WHEN VALUE_ERROR THEN 
        DBMS_OUTPUT.PUT_LINE('예외처리:수치 값 오류'||TO_CHAR(SQLCODE)||SQLERRM);
    WHEN NO_DATA_FOUND THEN 
        DBMS_OUTPUT.PUT_LINE('해당사항 없음.'||TO_CHAR(SQLCODE)||SQLERRM);
    WHEN TOO_MANY_ROWS THEN
        DBMS_OUTPUT.PUT_LINE('두명 이상입니다.'||TO_CHAR(SQLCODE)||SQLERRM);
    WHEN RICH_EXCEPTION THEN 
        DBMS_OUTPUT.PUT_LINE('RICH EXCEPTION'||TO_CHAR(SQLCODE)||SQLERRM);
    WHEN OTHERS THEN DBMS_OUTPUT.PUT_LINE('예외처리');
END PROC_EXCEPTION;

